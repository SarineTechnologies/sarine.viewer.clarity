function drags(e,t,o){function i(){clearTimeout(d),d=setTimeout(r,1e3*s)}function r(){e.position().left>0?e.animate({left:0},{duration:800,step:function(e){t.css("width",e),a&&(a.tooltipster("reposition"),a.tooltipster("show"))},complete:function(){i()}}):e.animate({left:u},{duration:800,step:function(e){t.css("width",e),a&&(a.tooltipster("reposition"),a.tooltipster("show"))},complete:function(){i()}})}var a,s=o.data("autoslide"),n=o.data("iconcolor"),u=o.width(),l=e.find("i"),c=l.attr("title"),d=0;return""!=n&&l.css("color",n),""!=c&&(a=e.find("i").tooltipster({content:c,position:"top",offsetY:"-4",delay:200,speed:300,touchDevices:!0,interactive:!1,animation:"fade",theme:"tooltipster-shadow",contentAsHTML:!0}),a.tooltipster("show")),s>0&&i(),o.on("mouseover vmouseover",function(e){a&&a.tooltipster("hide"),s>0&&clearTimeout(d)}).on("mouseleave vmouseout",function(e){s>0&&i()}),e.on("mousedown vmousedown touchstart",function(i){e.addClass("cq-compareslider-draggable"),t.addClass("cq-compareslider-resizable");var r=void 0===i.pageX?i.originalEvent.touches[0].pageX:i.pageX,a=e.outerWidth(),s=e.offset().left+a-r,n=o.offset().left,u=o.outerWidth();minLeft=n,maxLeft=n+u-a,e.parents().on("mousemove vmousemove touchmove",function(e){var i=void 0===e.pageX?e.originalEvent.touches[0].pageX:e.pageX;leftValue=i+s-a,leftValue<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=100*(leftValue+a/2-n)/u+"%",jQuery(".cq-compareslider-draggable").css("left",widthValue).on("mouseup vmouseup touchend",function(){jQuery(this).removeClass("cq-compareslider-draggable"),t.removeClass("cq-compareslider-resizable")}),jQuery(".cq-compareslider-resizable").css("width",widthValue),widthValue=widthValue.replace("%",""),widthValueInt=parseInt(widthValue),o.trigger("dragging"),0===widthValueInt?o.trigger("leftEdge"):99===widthValueInt?o.trigger("rightEdge"):widthValueInt>=49&&widthValueInt<=51&&o.trigger("middle")}).on("mouseup vmouseup touchend",function(){e.removeClass("cq-compareslider-draggable"),t.removeClass("cq-compareslider-resizable"),e.parents().unbind("mousemove vmousemove touchmove")}),i.preventDefault()}).on("mouseup vmouseup",function(o){e.removeClass("cq-compareslider-draggable"),t.removeClass("cq-compareslider-resizable")}),this}jQuery(document).ready(function(e){jQuery(".cq-beforeafter").each(function(){var e=jQuery(this),t=e.width();e.find(".cq-beforeafter-resize img.cq-beforeafter-img").css({"min-width":t,width:t,opacity:1});var o=e.find(".cq-beforeafter-handle"),i=e.find(".cq-beforeafter-resize");drags(o,i,e)})}),jQuery(window).resize(function(e){jQuery(".cq-beforeafter").each(function(){var e=jQuery(this),t=e.width();e.find(".cq-beforeafter-resize img.cq-beforeafter-img").css({"min-width":t,width:t})})});